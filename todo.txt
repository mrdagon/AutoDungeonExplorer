・資金
　削除、投資も素材を消費して行う
　クエスト報酬はゴールド素材１種たくさん

　納品依頼みたいなのは投資に作る

・戦闘

・探索


- 探索前処理
　投資と装備強化

- 探索後処理
　探索成果の反映
　レベルアップ判定
　ボスとダンジョン発見フラグのチェック
　探索指示による探索先変更反映
　予約スキルのチェック

- 一日の終わり
　投資と装備強化は一日の終わりと探索開始前に実行する


- スキル習得処理、予約スキル習得処理

★UI表示微修正
　パッシブ子表示に横線入れる
　ダンジョンとパーティのダンジョン情報に階段位置とボス位置マーカー表示

★操作実装
○アイテム：アイテムクリックで掴む、探索者装備ドロップで交換、何も無い所にドロップで装備を外す
○迷宮　　：ドラッグでダンジョン掴む
○投資　　：クリックで使用予約状態にする

Guild:
○操作_配置変更
○操作_装備在庫
○操作_装備スワップ
○操作_武器防具クリック　足りてた時の強化処理が未実装
○操作_スキル変更前後
○操作_除名
○探索者登録

Management:
○操作クリック

Explorer:
○操作_装備Aスキル変更
✕操作 キースキル習得
　操作 Pスキル習得
　操作 Aスキル習得
　操作 予約解除
○操作 スキルリセット

　編成：
　　探索者　：クリックで掴む、ドロップで入れ替え
　　武器防具：クリックで強化予約、もう一回クリックでキャンセル
　　アクセサリ：クリックで掴む、ドロップで在庫と入れ変え、他の人と入れ替え
　　ダンジョン：探索先を±１Fする
　　探索指示：探索指示を変更
　　登録：登録画面を開く
　　控え探索者：クリックで掴む、ドロップで並び替え
　　除名　　：探索者ドロップで除名処理
　　登録　　：採用ボタンクリックで新規登録
　スキル：
　　完了ボタン：ウィンドウを閉じる
　　再訓練　　：確認ウィンドウを出してスキルを初期化
　　スキル　　：ポイントがあればレベル＋１、なければ予約に追加
　　キースキル：確認ウィンドウを出して習得
　　装備Aスキル：Aスキル選択コンボボックス表示
　　コンボアイテム：クリックで装備スキル変更、すでに装備中の場合は並び替え
　　
　・クラス変更
　　探検者の装備に強化予約ID
　　投資に実行予約ID


★バグ
　ヘルプがどっち方向でも画面外になる場合は上か左にずらす

○DrawLineやDrawCircleがフルスクリーン使うとバグる、白画像用意して描画関数作った方が良さそう
○名前入力時バックスペースで２文字削除される事がある
　名前入力の最大文字数が不明

★ライブラリ修正
　文字列描画関数の速度改善
　座標クラスの内部をdoubleからintに変更 or 切り替えやすくする

★素材作成/探す
　探検中BGM、ボスBGMを選び直す
　戦闘エフェクト最低限
　前に作成したボス素材をインポート

★エディタいじる所
　対象は敵と味方で分けず、スキルタグで敵味方どっち対象か分かるようにして入力量を減らす

　PスキルAスキルのレベル補正は、１レベル毎の数値 ＋ 最大Lvボーナスの形？

　ダンジョンの雑魚テーブルを増やす？ボスも６体まで選べる形にする
　ダンジョンアイコン指定可能にする？
　ボス地図は0でなし、次階層 or 小迷宮
　探索地図は基本次階層 ＋ たまに小迷宮あり
　敵、素材比率は常に50%？
　遺物の出現率設定はなし、ここは運ゲー？どうしてもとりたい装備があったら探索職を雇う

　装備品とアクセサリーのアイコン指定

　素材のアイコン指定

　クエストに依頼人

　装備品のレシピ？


★リファクタリング メモ
　ログとクエストの表示/非表示はボタンではなくチェックボックスにする
　レイアウトの座標と大きさが4の倍数なら文字色を変える？
　Aスキル選択用ウィンドウ実装
○ヘルプ表示システム実装
○４Kモード不具合
○ウィンドウのスクロールバー対応
〇コンフィグ修正
　▽ボタン修正
　音設定は音とBGM音量も変化させる
　４Kモードはウィンドウ解像度が低い場合使用不可にする

○4K 8K対応
○スクショ保存
　F12で、WINAPIでキーボード操作して保存する、Win10のみ有効？他OSだと無理、仕様上タイトルの所も保存するのが、若干あれかも？

？レイアウト調整システムにRedo/Undoを付ける？

○コンフィグ修正

○management、dungeon、questのdataはゲーム毎に初期化が必要。他は起動時に一回初期化でOK

△Managemet、Dungeon、Questの進行状況はGuildに持たせる？

○パーティパッシブスキルのステータス上昇効果は常時のみ処理する

Effect生成関数はASkillのメンバー関数にする？
EffectにDraw関数を実装

外部データ読み込み時のimage参照未実装
外部データの画像参照ID設定がまだ

次Verは素材そのまま
・ウィンドウアイコン
・スキルアイコン
・戦闘エフェクト
・モンスタードット絵？
・装備品ドット絵

職業の初期Aスキル

○職業の初期装備代入
○装備品のレシピ設定 - 後でエディタにも追加？
○SDLライブラリをリポジトリに含める
✕PスキルのLv補正は読み込み時に行う？

✕モンスターにPスキル効果適用

Lvアップなどによるバトラーのステータス計算

戦闘と探索システムを再実装
AスキルPスキル処理の引数にLvを追加
Aスキルの効果と処理実装
Pスキルの効果と処理実装

とりあえずエラー出ず旧UIが動くようにする

外部データのアイコンIDを設定する

レイアウト変更システムを実装する
旧レイアウトは残して横に並べて確認しながら、新レイアウト実装

スキル習得、Aスキル設定、スキル習得予約システム実装

外部画像データ読み込み処理修正

装備ウィンドウをアクセサリーウィンドウに変更
装備強化システム実装、UIと内部処理
設備投資システム実装、UIと内部処理

セーブ機能、いつでもセーブ/ロード機能

画像アイコンは現行のまま、フォントは変更する

数値オブジェクト作る(Lv、○○IDみたいなやつ)？

・新レイアウト調整システム　メモ

・プログラムメモメモ
ダンジョンの部屋の仕組み変える
partyとguildの処理見直し
戦闘の全部見直し
装備レシピデータ作成
アイテム所持数をアクセサリーだけにする
event logはテキストで保存する
解雇したキャラクターは消滅する仕様に変更

・Todo
エディタのデータを読み込む処理を実装
フォントの変更とレイアウト変更
スキル習得ウィンドウ修正
装備製造ウィンドウ削除、装備強化システム実装
装備ウィンドウをアクセサリーウィンドウに変更
投資部門統合の仕様変更、ウィンドウ修正
未実装の戦闘処理色々実装
中断データの保存/読み込み
色々細かい作業

●機能追加、仕様変更
★Aスキル枠を２→４に変更
★装備種固定
★スキル習得システム実装
★求人ウィンドウをポップアップに変更
★キャラの解雇処理実装
★解雇時の装備外し処理
★Lvアップ時の予約スキル習得処理
★オプションにX倍フルスクリーン追加
★ボスと雑魚でLvを分けられるように変更
★気絶スタンの実装
★職人数上限追加
★時間経過速度を半減させて、ゲームの進行速度を半減
★レア素材の仕様変更
★装備品質の仕組みを変更
★装備販売システムを変更して素材販売にする
★品質経験値獲得と要求値の設定


▲装備自動更新処理の変更
・オプションのヘルプ詳細表示
☆ログ記録修正

☆会話シーン用の簡易スクリプト作成
☓職人のスキル実装

☆戦闘テストモード追加
☆各種アクティブスキル実装
☆状態異常やバフやスキルの追加効果の実装、サブ属性の実装などAスキルあれこれ
☆Pスキルを色々実装
☆かばうスキルとかばわれ状態の実装

☆チュートリアル的な依頼やシナリオ、表示の実装
☆セーブ/ロード機能追加
・名前の文字数制限
・全滅ペナルティの実装
・アクセサリーの実装
・タイトル画面のクレジット表記
・ゲーム進行速度を変える変数を作る

●演出面
★探索/戦闘エフェクト実装
★ダメージ表示、スキルエフェクト
★タイトル周りのレイアウト作成
★会話シーンのレイアウト作成
★タイトルBGM選び
★出撃時も画面外から歩いてくるようにする
★流れてくる素材が枠外に見える
★リザルト時の経験値増加量表示、LvUP表示
☆レア素材関係の表示修正
☓職人ダイレクトヘルプ
☆ダンジョンヘルプ修正
☆クエストヘルプ修正
☆装備ヘルプのレイアウト修正、素材に値段など
☆各ウィンドウのスクロール範囲修正
★スキルの予約済、非予約が分かるようにする
☆モンスターグラフィック、ジョブグラフィック、ダンジョン背景等を１層分作成
☆文章だけのダイレクトヘルプを一部修正
☆効果音調整
・HPの減少分、回復分をライフバー上で表示
・フォントをドットフォントに変更
・一枚絵ヘルプの実装
・アクセサリーヘルプ
・スキルアイコンの変更？
・他ギルドのダンジョン進行状態の表示と、進行処理
・各種New演出の追加と修正
・スキルCTやバフ/デバフ表示の追加、ダイレクトヘルプからバフ/デバフ状態見れるようにする
・敵の登場演出追加
・ボス発見演出、ボス登場演出、ボス撃退演出
・採掘/伐採演出強化
・戦闘不能ドット絵追加
・レア品獲得演出追加

●レベルデザイン
１層だけ実装する感じ
☆C#でレベルエディタの作成と読込処理を実装
☆ダンジョン
☆職業、１２種実装、パッシブとアクティブスキルは半分ぐらい
☆モンスター
☆Aスキル
☆Pスキル
☆装備品
☆投資
☆素材
☆依頼
☆会話シーン
・キースキル

●その他
☆公開時用のリードミー作成
★ソースコード公開する時用のドキュメント作成
★一回以上フルスクリーンにしてから終了すると終了時にエラーが起こる、そのまま異常終了するので現状問題は無い
・HP作成？宣伝用の動画作成？

・図鑑
・実績

・鍛冶
大剣、斧、刀、重鎧

・木工
剣盾、盾、棒、弓


・裁縫
軽鎧、コート、ローブ、本

・錬金
聖杖、錫杖、珠、チャクラム

防具
・重鎧
物防、魔防、HPが上昇

・軽鎧
回避、物防、HPが上昇

・コート
命中、回避、HPが上昇

・ローブ
INT、魔防、HPが上昇















●作業リスト　７月
○完了　△途中　☓後回し

■優先してやること■
○素材システム変更中
○魔物とダンジョンのドロップ設定
○素材の製造アイテム設定
○装備自動更新処理

　個別装備自動更新を削除
　スキル一覧と、予約と習得処理
　雇用システムを変更
○職人と探索者の分離
　状態異常の仕様を考える

■仕様変更■
　スキルシステム変更
　雇用システム変更
○素材毎に作れる装備を設定
○モンスターと探索に通常素材とレア素材を設定
○戦闘を同時行動しないようにする
○製造と探索人員を分ける
△未探索部屋発見率低下/探索スキルの追加
　ダンジョン構造はβ以降も固定化、メインルート ＋ 脇道方式
　ボスとザコのLvを分ける
○倍速上限を64に

　Fighterに隊列変数を追加(0～)で何番目にいるか

■未実装のあれこれ■
　シナリオの追加と、会話表示システム
　タイトル画面
　セーブ機能
　レベルエディタの作成
　気絶ペナルティ、斧の防御無視とかを実装してない等
　ランダム名前リストの作成
　ログ文章が一部未実装
　ゲーム内の用語整理
　Aスキルのサブ属性
　全滅ペナルティ
　キャラの解雇
○雇用処理と初期スキル設定の反映
○名前入力ポップアップ対応
　職人のヘルプ

■GUIや操作の修正■
○右クリックに時間の停止/再開を割り当てる
○探索中のパーティにダンジョンドロップで探索先変更予約可能にする
○探索ダンジョン横の△で探索先変更
　各種何かあった時に出発前に自動で停止するオプション
○装備品掴んで他の人と交換

■GUIヘルプとウィンドウ■
○素材ウィンドウでその素材から作れるアイテムを表示
○モンスターのステータスが見れないので、ダンジョンウィンドウのダンジョン一個辺りの表示枠を大きくして出現モンスターも表示してマウスオーバーでモンスターのステータスを見れるようにする
○ダンジョンウィンドウのタブの所をダンジョンアイコンにする
　情報ウィンドウの各項目のヘルプで変化をグラフで見れるようにする
　探索中の情報表示の項目を増やす？

■演出の修正■
　出撃時に画面外から歩いてくる
　ボス戦時は強制的に等倍
○撤退時に枠からはみ出るのを修正
　リザルト時に現在のLvと今回獲得した分の経験値分はバーの色を変えて表示
  レベルアップ時のジャンプ演出
　探索中の素材ドロップ演出などをまともにする
　ボス戦の開始や勝利時の演出をがんばる
　キャラが死んだ時もダメージ数値出るようにする
○戦闘中のダメージノックバック削除
　戦闘中のバフ/デバフ表示追加
　スキルクールダウン表示も追加
　スキルエフェクトを追加、斬打突雷氷炎回復バフ・デバフぐらいは分かるようにしたい
　Lv不足の投資の表示
　製造New表示
　ダンジョンNew表示
　投資New表示
　クエストNew表示
  製造の演出
  売却時の演出

■バグなど■
△配列初期化抜けとかで戦闘周りが色々ばぐってる
○０日目から始まってる
○情報の素材数がバグ
○獲得した素材の種類が多いとリザルトではみだす
　装備在庫数とかが３桁超えるとはみ出す
○ウィンドウ解像度によっては、キャラのステータスウィンドウが画面からはみ出す

■ドット絵■
　ギルメン
　モンスター
　ボスモンスター
　戦闘エフェクト
　アイコン
　その他

●ライブラリバグ、修正
白抜き画像生成関数が欲しい

☆Coin関数にマイナスの値を渡すとバグる

☆Font::GetImage,DrawBoldの実装

SDL_RendererのSDL_RENDERER_PRESENTVSYNCとMouseのXY座標更新を修正

Ｘmakebmpfontを枠幅指定可能に

☆DrawFontに右揃え機能追加

ライブラリのFontに部分描画色指定機能追加、Font DrawUTFString～

☆Colorの規定のコンストラクタ追加

☆verを2.10に上げて、DLLなど入れ替えた

☆SetVolume関数の定数間違い、音量を切り捨てないように修正

☆SDL_mixerのDLL更新